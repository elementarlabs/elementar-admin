<emr-comment-editor #editor [imageUploadFn]="uploadFn" (sent)="onSent($event)"
                    class="rounded-2xl border border-default ">
  <emr-comment-editor-toolbar>
    <button mat-icon-button matTooltip="Bold"
            emrCommentEditorCommand emrCommentEditorCommandBold>
      <emr-icon name="ph:text-b"></emr-icon>
    </button>
    <button mat-icon-button matTooltip="Italic"
            emrCommentEditorCommand emrCommentEditorCommandItalic>
      <emr-icon name="ph:text-italic"></emr-icon>
    </button>
    <button mat-icon-button matTooltip="Strike"
            emrCommentEditorCommand emrCommentEditorCommandStrike>
      <emr-icon name="ph:text-strikethrough"></emr-icon>
    </button>
    <emr-comment-editor-divider></emr-comment-editor-divider>
    <button mat-icon-button matTooltip="Bullet List"
            emrCommentEditorCommand emrCommentEditorCommandBulletList>
      <emr-icon name="ph:list-bullets"></emr-icon>
    </button>
    <button mat-icon-button matTooltip="Ordered List"
            emrCommentEditorCommand emrCommentEditorCommandOrderedList>
      <emr-icon name="ph:list-numbers"></emr-icon>
    </button>
    <button mat-icon-button matTooltip="Blockquote"
            emrCommentEditorCommand emrCommentEditorCommandBlockquote>
      <emr-icon name="ph:quotes"></emr-icon>
    </button>
    <button mat-icon-button matTooltip="Code Block"
            emrCommentEditorCommand emrCommentEditorCommandCodeBlock>
      <emr-icon name="ph:code-block"></emr-icon>
    </button>
    <emr-comment-editor-divider></emr-comment-editor-divider>
    <button mat-icon-button matTooltip="Upload Image"
            emrCommentEditorCommand emrCommentEditorCommandImage>
      <emr-icon name="ph:image"></emr-icon>
    </button>
    <button mat-icon-button matTooltip="Add Youtube"
            emrCommentEditorCommand emrCommentEditorCommandYoutube>
      <emr-icon name="ph:youtube-logo"></emr-icon>
    </button>
  </emr-comment-editor-toolbar>
  <emr-comment-editor-bubble-menu>
    <button emrCommentEditorCommandEditLink>
      <emr-icon name="ph:pencil-simple"></emr-icon>
    </button>
    <button emrCommentEditorCommandUnsetLink>
      <emr-icon name="ph:link-break"></emr-icon>
    </button>
    <button emrCommentEditorCommand emrCommentEditorCommandLink>
      <emr-icon name="ph:link"></emr-icon>
    </button>
    <button emrCommentEditorCommand emrCommentEditorCommandBold>
      <emr-icon name="ph:text-b"></emr-icon>
    </button>
    <button emrCommentEditorCommand emrCommentEditorCommandItalic>
      <emr-icon name="ph:text-italic"></emr-icon>
    </button>
    <button emrCommentEditorCommand emrCommentEditorCommandStrike>
      <emr-icon name="ph:text-strikethrough"></emr-icon>
    </button>
    <button emrCommentEditorCommand emrCommentEditorCommandCode>
      <emr-icon name="ph:code"></emr-icon>
    </button>
  </emr-comment-editor-bubble-menu>
  <emr-comment-editor-footer-bar>
    @if (editor.api.isEditorActivated()) {
      <button mat-icon-button matTooltip="Toggle Toolbar"
              emrCommentEditorCommand emrCommentEditorCommandToggleToolbar>
        <emr-icon name="ph:browser"></emr-icon>
      </button>
    }
  </emr-comment-editor-footer-bar>
</emr-comment-editor>

@if (comments.length > 0) {
  <div class="mt-10 flex flex-col gap-7">
    @for (comment of comments; track comment) {
      <div class="border border-default  rounded-xl p-5" [innerHTML]="comment | safeHtml"></div>
    }
  </div>
}
